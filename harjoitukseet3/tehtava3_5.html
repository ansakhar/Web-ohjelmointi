<!DOCTYPE HTML>
<html>
<head>
  <title>Tehtävä 5</title>
</head>
<body>

<h2>Simple ToDo</h2>

<form id="f">ToDo:<br>
    <input type="text" id="n"><br>
    <button type="button" onclick="lisaaRivi(f.n.value)">Lisää</button>
    <button type="button" onclick="tyhjaaLista()">Tyhjää lista</button>
 </form>

 <ul id="lista"></ul>
 
 <script>

//<li>-elementin lisaaminen
   function lisaaRivi(rivi) {  
let ulnode = document.getElementById("lista");
let linode = document.createElement('li');
let elemId = 'content' + Math.floor(Math.random() * 100); //id luominen
linode.id = elemId;
let litext = document.createTextNode(rivi);

linode.appendChild(litext);
ulnode.appendChild(linode);
const elem = document.getElementById(elemId);

//<li>-elementin poistaminen
function poistaElem() {
    elem.remove();
    //elem.parentNode.removeChild(elem);  
}
elem.addEventListener("click", poistaElem);
    }

//Listan tyhjeminen
    function tyhjaaLista() {
var list = document.getElementById("lista");
    while(list.hasChildNodes()) {
        list.removeChild(list.firstChild);
        document.getElementById("f").reset();
           }
    }

 </script>
</body>
</html>